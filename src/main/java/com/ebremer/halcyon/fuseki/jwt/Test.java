package com.ebremer.halcyon.fuseki.jwt;

import io.jsonwebtoken.Jwts;
import java.security.PublicKey;
import org.apache.shiro.SecurityUtils;
import org.apache.shiro.subject.Subject;

/**
 *
 * @author erich
 */
public class Test {
    public static void main(String[] args) {
        try {
            Subject subject = SecurityUtils.getSubject();
        } catch (org.apache.shiro.UnavailableSecurityManagerException ex) {
            System.out.println(ex.toString());
        }
        //String jwt = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVNk1TS0gyZmxSS3ZPVGs0OUtFeUVmZmVlNG5Oc2l3YUVZUTZDNmhNS1c0In0.eyJleHAiOjE2ODAzNzQ2NDIsImlhdCI6MTY4MDM3NDU4MiwiYXV0aF90aW1lIjoxNjgwMzc0NTgyLCJqdGkiOiI5NGFhZjQ2NS1lMWU3LTQ0YzgtYmE5Ny1hZDE1ZmFmMDgxOTMiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoibWFzdGVyLXJlYWxtIiwic3ViIjoiYTQ2NGNmMmQtNjJjMy00MzkzLTk0NzctNDU1NjZhM2NmYmU1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYWNjb3VudCIsInNlc3Npb25fc3RhdGUiOiI3NDQxM2RkZi1jNzc3LTRiZDItYThiZS1iOGZlMGNiMTczYmUiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiY3JlYXRlLXJlYWxtIiwiYWRtaW4iXX0sInJlc291cmNlX2FjY2VzcyI6eyJtYXN0ZXItcmVhbG0iOnsicm9sZXMiOlsidmlldy1yZWFsbSIsInZpZXctaWRlbnRpdHktcHJvdmlkZXJzIiwibWFuYWdlLWlkZW50aXR5LXByb3ZpZGVycyIsImltcGVyc29uYXRpb24iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX19LCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwic2lkIjoiNzQ0MTNkZGYtYzc3Ny00YmQyLWE4YmUtYjhmZTBjYjE3M2JlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiTWlzdGVyIFNwb2NrIiwiZ3JvdXBzIjpbImNyZWF0ZS1yZWFsbSIsImFkbWluIl0sIkhhbGN5b25Hcm91cHMiOlsiL2FkbWluIl0sInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6Ik1pc3RlciIsImZhbWlseV9uYW1lIjoiU3BvY2sifQ.Jv8uM9jnNkh2r7wVWcReVorxowZHaHfSVgP3gRKLlV8e2vPBf7HE2OpTGffGiXVuJXxFVaY8ExbJ469g7jSIVhPgqZvPqw9sR2YrbhoUIXNuTNWTgK7HfbI8xxiaNzXkxc2G__prltOEGURtHK_Q2XwQjsdct_X8peSTWq6AZnFTqEf3cuVyOBOXQlvUGVr_1vhe8qZ_1QSAOins1Pc4zA7KBrOAWRQHn20qmMkR0Et4K6a62iZoIx36sSuwssegS2iM4RRgrtdKlB7p8B0Lrbj4PPU02QVhfSas900QgQ4Sm2Zx6r9COzXKdEevJr6-NduB9uWWDGbfdTqj7XtJmA";
        //String jwt = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVNk1TS0gyZmxSS3ZPVGs0OUtFeUVmZmVlNG5Oc2l3YUVZUTZDNmhNS1c0In0.eyJleHAiOjE2ODA1NDYyMDQsImlhdCI6MTY4MDU0NjE0NCwiYXV0aF90aW1lIjoxNjgwNTQ2MTQ0LCJqdGkiOiJiZWMxMTRkMi1lMzFjLTRjYTUtOGI2ZC01YjczYmNkN2RlNmQiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoibWFzdGVyLXJlYWxtIiwic3ViIjoiYTQ2NGNmMmQtNjJjMy00MzkzLTk0NzctNDU1NjZhM2NmYmU1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYWNjb3VudCIsInNlc3Npb25fc3RhdGUiOiI3YWZlNmI1Yi03Y2JiLTQxOWQtOThiMy04NDZmMGFhMDhkNzciLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiY3JlYXRlLXJlYWxtIiwiYWRtaW4iXX0sInJlc291cmNlX2FjY2VzcyI6eyJtYXN0ZXItcmVhbG0iOnsicm9sZXMiOlsidmlldy1yZWFsbSIsInZpZXctaWRlbnRpdHktcHJvdmlkZXJzIiwibWFuYWdlLWlkZW50aXR5LXByb3ZpZGVycyIsImltcGVyc29uYXRpb24iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX19LCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwic2lkIjoiN2FmZTZiNWItN2NiYi00MTlkLTk4YjMtODQ2ZjBhYTA4ZDc3IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiTWlzdGVyIFNwb2NrIiwiZ3JvdXBzIjpbImNyZWF0ZS1yZWFsbSIsImFkbWluIl0sIkhhbGN5b25Hcm91cHMiOlsiL2FkbWluIl0sInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6Ik1pc3RlciIsImZhbWlseV9uYW1lIjoiU3BvY2sifQ.GnT3eqDnIeQJtx7vAptoXoVSJ__7FfiWZN9bROheZB5_7zLalZdYuBgeMqNZ5eCVuYTTzEdK_cpHtxmcb0Tmidel5CzJdudoycHDHlTpzylMgta7740qS0kPLQV9dOPEt3xoRDmUA4D9NhvoKWH6pTdXvyql22eHUAIoJ-POgCuuEmZ6x80HmQRHntRXtUma391asqiDWfkMbyBpyE3ASvzYsmIVww0AvhfWsWIfoSunm2aDGGMwAXyzJMPsCxFac63UtqxQ0qvFSpqzvz9GIV46UleziRZ_63MBfqxBiKG6QCfl3GsRY45qIe5iF_i_Be4_y8HHk1WEesq-k4YNTA";
        String jwt = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVNk1TS0gyZmxSS3ZPVGs0OUtFeUVmZmVlNG5Oc2l3YUVZUTZDNmhNS1c0In0.eyJleHAiOjE2ODA1NDYyMDQsImlhdCI6MTY4MDU0NjE0NCwiYXV0aF90aW1lIjoxNjgwNTQ2MTQ0LCJqdGkiOiJiZWMxMTRkMi1lMzFjLTRjYTUtOGI2ZC01YjczYmNkN2RlNmQiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoibWFzdGVyLXJlYWxtIiwic3ViIjoiYTQ2NGNmMmQtNjJjMy00MzkzLTk0NzctNDU1NjZhM2NmYmU1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYWNjb3VudCIsInNlc3Npb25fc3RhdGUiOiI3YWZlNmI1Yi03Y2JiLTQxOWQtOThiMy04NDZmMGFhMDhkNzciLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiY3JlYXRlLXJlYWxtIiwiYWRtaW4iXX0sInJlc291cmNlX2FjY2VzcyI6eyJtYXN0ZXItcmVhbG0iOnsicm9sZXMiOlsidmlldy1yZWFsbSIsInZpZXctaWRlbnRpdHktcHJvdmlkZXJzIiwibWFuYWdlLWlkZW50aXR5LXByb3ZpZGVycyIsImltcGVyc29uYXRpb24iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX19LCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwic2lkIjoiN2FmZTZiNWItN2NiYi00MTlkLTk4YjMtODQ2ZjBhYTA4ZDc3IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiTWlzdGVyIFNwb2NrIiwiZ3JvdXBzIjpbImNyZWF0ZS1yZWFsbSIsImFkbWluIl0sIkhhbGN5b25Hcm91cHMiOlsiL2FkbWluIl0sInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6Ik1pc3RlciIsImZhbWlseV9uYW1lIjoiU3BvY2sifQ.GnT3eqDnIeQJtx7vAptoXoVSJ__7FfiWZN9bROheZB5_7zLalZdYuBgeMqNZ5eCVuYTTzEdK_cpHtxmcb0Tmidel5CzJdudoycHDHlTpzylMgta7740qS0kPLQV9dOPEt3xoRDmUA4D9NhvoKWH6pTdXvyql22eHUAIoJ-POgCuuEmZ6x80HmQRHntRXtUma391asqiDWfkMbyBpyE3ASvzYsmIVww0AvhfWsWIfoSunm2aDGGMwAXyzJMPsCxFac63UtqxQ0qvFSpqzvz9GIV46UleziRZ_63MBfqxBiKG6QCfl3GsRY45qIe5iF_i_Be4_y8HHk1WEesq-k4YNTA";
        PublicKey pk = KeycloakPublicKeyFetcher.getKeycloakPublicKeyFetcher().getPublicKey();
        Jwts.parserBuilder()
                .setSigningKey(pk)
                .setAllowedClockSkewSeconds(600)
                .build()
                .parseClaimsJws(jwt);
    }
    
}
